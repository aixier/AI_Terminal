import{r as a,j as t,c as e,o as s,d as r,w as l,f as o,u as n,g as u,t as c,b as d,y as i,E as m}from"./index-Bqi7-coL.js";import{u as p}from"./terminal-C3Bkzhzo.js";import{_}from"./_plugin-vue_export-helper-BCo6x5W8.js";const f={class:"history-page"},w={class:"card-header"},y=_({__name:"History",setup(_){const y=n(),h=p(),v=a([]),b=async()=>{try{await i.confirm("确定要清除所有历史记录吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),h.clearHistory(),v.value=[],m.success("历史记录已清除")}catch{}};return t(()=>{v.value=h.commandHistory||[]}),(a,t)=>{const n=o("el-button"),i=o("el-table-column"),m=o("el-tag"),p=o("el-table"),_=o("el-card");return s(),e("div",f,[r(_,null,{header:l(()=>[d("div",w,[t[1]||(t[1]=d("span",null,"命令历史记录",-1)),r(n,{type:"danger",size:"small",onClick:b},{default:l(()=>t[0]||(t[0]=[u("清除历史",-1)])),_:1,__:[0]})])]),default:l(()=>[r(p,{data:v.value,stripe:"",style:{width:"100%"}},{default:l(()=>[r(i,{prop:"timestamp",label:"时间",width:"180"},{default:l(a=>{return[u(c((t=a.row.timestamp,new Date(t).toLocaleString("zh-CN"))),1)];var t}),_:1}),r(i,{prop:"command",label:"命令"}),r(i,{prop:"status",label:"状态",width:"100"},{default:l(a=>[r(m,{type:"success"===a.row.status?"success":"danger"},{default:l(()=>[u(c("success"===a.row.status?"成功":"失败"),1)]),_:2},1032,["type"])]),_:1}),r(i,{label:"操作",width:"100"},{default:l(a=>[r(n,{size:"small",onClick:t=>{return e=a.row.command,h.setCurrentCommand(e),void y.push("/card-generator");var e}},{default:l(()=>t[2]||(t[2]=[u(" 重新执行 ",-1)])),_:2,__:[2]},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})])}}},[["__scopeId","data-v-25857bd4"]]);export{y as default};
