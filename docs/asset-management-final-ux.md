# 素材管理最终 UX 设计

## 设计理念

基于用户反馈，实现了与作品集相同的交互模式：
- **保持输入区域不变** - 底部输入区域位置和大小完全不变
- **侧边栏展开模式** - 点击左侧AI创作按钮后，展开素材子菜单
- **统一的交互体验** - 与作品集功能保持一致的展开方式

## 最终交互设计

### 整体布局

```
┌─────────────────┬────────────────────────────────────────┐
│                 │                                        │
│   左侧导航栏     │            主内容区域                    │
│                 │                                        │
│  ┌───────────┐ │ ┌──────────────┐                       │
│  │ AI创作 ✓  │ │ │ 素材侧边栏   │   AI创作页面           │
│  │  └素材库   │ │ │              │                       │
│  │ 作品集    │ │ │   [素材网格]  │   [聊天消息]          │
│  │ 终端      │ │ │              │                       │
│  └───────────┘ │ └──────────────┘                       │
│                 │                                        │
│                 │ ─────────────────────────────────────  │
│                 │ [输入框................................] [发送] │
└─────────────────┴────────────────────────────────────────┘
```

### 交互流程

1. **进入AI创作页面**
   - 默认显示AI创作界面
   - 左侧导航显示"AI创作"为选中状态

2. **展开素材库**
   - 当AI创作被选中时，下方显示"素材库"子菜单
   - 点击"素材库"按钮
   - 从左侧滑出素材管理侧边栏（400px宽）

3. **素材操作**
   - 在素材侧边栏中浏览、搜索、上传素材
   - 点击素材自动插入@引用到输入框
   - 点击关闭按钮或再次点击素材库按钮关闭

4. **作品集功能**
   - 点击"作品集"按钮
   - 展开作品集页面（占满整个主内容区）
   - 独立管理已创作的卡片

## 技术实现细节

### 组件结构

```
CardGenerator.vue（主布局）
├── DesktopSidebar.vue（左侧导航）
│   ├── AI创作按钮
│   ├── 素材库子按钮（仅在AI创作激活时显示）
│   ├── 作品集按钮
│   └── 终端按钮
├── 素材侧边栏（条件渲染）
│   └── AssetManager.vue
├── AICreationPage.vue（创作页面）
└── PortfolioPage.vue（作品集页面）
```

### 关键代码改动

1. **CardGenerator.vue**
   - 添加 `showAssetsSidebar` 状态
   - 添加素材侧边栏容器和过渡动画
   - 处理素材选择和插入逻辑

2. **DesktopSidebar.vue**
   - 修改导航结构支持子菜单
   - AI创作激活时显示素材库子按钮
   - 触发 `toggle-assets` 事件

3. **AICreationPage.vue**
   - 保持原始布局不变
   - 输入区域位置和大小不变

### 样式设计

```css
/* 素材库子按钮 */
.sub-nav-btn {
  padding: 12px 20px 12px 40px; /* 缩进显示层级 */
  font-size: 13px;
  color: #999;
}

/* 素材侧边栏 */
.assets-sidebar {
  position: absolute;
  left: 0;
  width: 400px;
  height: 100%;
  background: white;
  border-radius: 0 12px 12px 0;
  /* 渐变色头部 */
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

/* 滑动动画 */
.slide-fade-enter-active {
  transition: transform 0.3s ease;
}
.slide-fade-enter-from {
  transform: translateX(-100%);
}
```

## 优势分析

1. **保持原有布局** - 输入区域完全不受影响
2. **统一的交互模式** - 与作品集保持一致的展开方式
3. **清晰的层级关系** - 素材作为AI创作的子功能
4. **流畅的动画过渡** - 侧边栏滑入滑出效果
5. **独立的功能分区** - 创作、素材、作品集各司其职

## 使用体验

- ✅ 不改变用户熟悉的输入区域
- ✅ 素材在需要时才展开，不占用固定空间
- ✅ 操作逻辑清晰，符合直觉
- ✅ 与现有作品集功能保持一致性